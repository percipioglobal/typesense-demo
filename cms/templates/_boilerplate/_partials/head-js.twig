{# -- Polyfills detected by User-Agent as per: https://polyfill.io/v2/docs/examples#feature-detection -- #}
<script src="https://cdn.polyfill.io/v3/polyfill.min.js?callback=polyfillsAreLoaded&flags=gated" defer async></script>

{# -- Handle tabs gracefully as per https://hackernoon.com/removing-that-ugly-focus-ring-and-keeping-it-too-6c8727fefcd2 -- #}
{% include "_boilerplate/_partials/tab-handler.twig" %}

{# -- Tiny Cookie JavaScript -- #}
<script>
    {{ source("_inline-js/tiny-cookie.min.js") }}
</script>

{# -- Register Google Tag Manager -- #}
{%- if not craft.app.config.general.devMode -%}
    <script async src="https://www.googletagmanager.com/gtag/js?id={{- gtmTrackingId -}}"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', '{{- gtmTrackingId -}}');
    </script>
{%- endif -%}